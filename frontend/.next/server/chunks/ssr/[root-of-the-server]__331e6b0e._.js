module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24725,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},43285,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/dynamic-access-async-storage.external.js",()=>require("next/dist/server/app-render/dynamic-access-async-storage.external.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},97134,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactDOM},70965,a=>{"use strict";a.s(["createPost",()=>e,"deletePost",()=>f,"getAllComments",()=>h,"getAllPosts",()=>d,"incrementPostLike",()=>g,"postComment",()=>i]);var b=a.i(59502),c=a.i(19968);let d=(0,c.createAsyncThunk)("post/getAllPosts",async(a,c)=>{try{let a=await b.clientServer.get("/posts");return c.fulfillWithValue(a.data)}catch(a){return c.rejectWithValue(a.response.data)}}),e=(0,c.createAsyncThunk)("post/createPost",async({file:a,body:c},d)=>{try{let e=new FormData;e.append("token",localStorage.getItem("token")),e.append("body",c),e.append("media",a);let f=await b.clientServer.post("/post",e,{headers:{"Content-Type":"multipart/form-data"}});if(200===f.status)return d.fulfillWithValue("Post Uploaded");return d.rejectWithValue("Post not uploaded")}catch(a){return d.rejectWithValue(a.response.data)}}),f=(0,c.createAsyncThunk)("post/deletePost",async(a,c)=>{try{return await b.clientServer.delete("/delete_post",{data:{token:localStorage.getItem("token"),post_id:a.post_id}}),c.fulfillWithValue(a)}catch(a){return c.rejectWithValue("Something went wrong")}}),g=(0,c.createAsyncThunk)("post/incrementLike",async(a,c)=>{console.log("increment post like with :",a);try{let d=await b.clientServer.post("/increment_post_likes",{post_id:a.post_id});return c.fulfillWithValue(d.data)}catch(a){return c.rejectWithValue(a.response.data.message)}}),h=(0,c.createAsyncThunk)("post/getAllComments",async(a,c)=>{try{let d=await b.clientServer.get("/get_comments",{params:{post_id:a.post_id}});return c.fulfillWithValue({comments:d.data,post_id:a.post_id})}catch(a){return c.rejectWithValue("Something went wrong")}}),i=(0,c.createAsyncThunk)("post/postComment",async(a,c)=>{try{console.log({post_id:a.post_id,body:a.body});let d=await b.clientServer.post("/comment",{token:localStorage.getItem("token"),post_id:a.post_id,commentBody:a.body});return c.fulfillWithValue(d.data)}catch(a){return c.rejectWithValue("Something went wrong")}})},19500,a=>{"use strict";a.s(["default",()=>h,"resetPostId",()=>g]);var b=a.i(19968),c=a.i(70965);let d={posts:[],isError:!1,postFetched:!1,isLoading:!1,loggedIn:!1,message:"",comments:[],postId:""},e=(0,b.createSlice)({name:"post",initialState:d,reducers:{reset:()=>d,resetPostId:a=>{a.postId="",a.comments=[]}},extraReducers:a=>{a.addCase(c.getAllPosts.pending,a=>{a.isLoading=!0,a.message="Fetching all posts..."}).addCase(c.getAllPosts.fulfilled,(a,b)=>{a.isLoading=!1,a.isError=!1,a.postFetched=!0,console.log(b.payload.posts),a.posts=[...b.payload.posts].reverse(),console.log("HERE",a.posts),a.message="Posts fetched successfully!"}).addCase(c.getAllPosts.rejected,(a,b)=>{a.isLoading=!1,a.isError=!0,a.message=b.error?.message||"Failed to fetch posts."}).addCase(c.getAllComments.fulfilled,(a,b)=>{a.postId=b.payload.post_id,a.comments=b.payload.comments})}}),{reset:f,resetPostId:g}=e.actions,h=e.reducer},67224,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},54103,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(57850),e=a.r(67224),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},48662,a=>{"use strict";a.s(["default",()=>h],48662);var b=a.i(57850),c=a.i(68458),d=a.i(19968),e=a.i(75674),f=a.i(19500);let g=(0,d.configureStore)({reducer:{auth:e.default,postReducer:f.default}});function h({children:a}){return(0,b.jsx)("html",{lang:"en",children:(0,b.jsx)("body",{children:(0,b.jsx)(c.Provider,{store:g,children:a})})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__331e6b0e._.js.map